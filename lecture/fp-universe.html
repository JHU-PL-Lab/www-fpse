<!DOCTYPE HTML>
<!--
Solarize by TEMPLATED
templated.co @templatedco
Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
-->
<html>
<head>
 <title>Functional Programming and Software Engineering</title>
 <meta http-equiv="content-type" content="text/html; charset=utf-8" />
 <meta name="description" content="" />
 <meta name="keywords" content="" />
 <!--[if lte IE 8]><script src="/pl/css/ie/html5shiv.js"></script><![endif]-->
 <script src="/pl/js/jquery.min.js"></script>
 <script src="/fpse/js/jquery.dropotron.min.js"></script>
 <script src="/fpse/js/skel.min.js"></script>
 <script src="/fpse/js/skel-layers.min.js"></script>
 <script src="/fpse/js/init.js"></script>
 <noscript>
  <link rel="stylesheet" href="/fpse/css/skel.css" />
  <link rel="stylesheet" href="/fpse/css/style.css" />
 </noscript>
 <!--[if lte IE 8]><link rel="stylesheet" href="/fpse/css/ie/v8.css" /><![endif]-->
</head>
<body>

 <!-- Header Wrapper -->
  <div class="wrapper style1">
  
  <!-- Header -->
   <div id="header">
    <div class="container">
      
     <!-- Logo -->
      <h1><a href="/fpse/index.html" id="logo">FPSE</a></h1>
     
     <!-- Nav -->
      <nav id="nav">
       <ul>
          <li><a href="/fpse/logistics.html">Logistics</a></li>
          <li><a href="/fpse/dateline.html">Dateline</a></li> <!-- converted; don't edit .html edit .md -->
          <li><a href="/fpse/coding.html">Coding</a>
          <li><a href="/fpse/assignments/">Assignments</a>
          <li><a href="https://piazza.com/class/kd4zpku2vbg1az">Piazza</a></li>
          <li><a href="/fpse/contact.html">Contact Us</a></li>
      </ul>
</nav>
</div>
</div>


<!-- close-out code before the standard footer .. use to glue in raw html. -->
</div>
<!-- Main -->
<div id="main" class="wrapper style4">
<!-- Content -->
<div id="content" class="container">
<section>

<link rel="stylesheet" href="/fpse/css/friendly.css" />
<meta charset="utf-8" />
    <h1 id="the-functional-programming-language-universe">The Functional Programming Language Universe</h1>

<ul>
  <li>“This is the Dawn of the Age of FP”, there are now many choices of languages</li>
  <li>There are both viable functional-focused languages as well as FP extensions to existing languages.</li>
</ul>

<h2 id="functional-focused-languages">Functional-focused languages</h2>

<ul>
  <li>These are languages designed with FP style in mind from the start: immutable variables and data structures, full higher-order functions, currying, etc.</li>
  <li>There are generally two “schools”
    <ul>
      <li>ML school: static types, type inference, polymorphism, pattern matching (OCaml, Standard ML, Haskell, F#, etc)</li>
      <li>Lisp school: dynamically typed (Lisp, Scheme, Clojure, etc)</li>
    </ul>
  </li>
</ul>

<h3 id="ocaml-and-standard-ml">OCaml and Standard ML</h3>

<ul>
  <li>Of course we have to include OCaml!</li>
  <li>Standard ML is another variant of ML which has limited popularity these days</li>
</ul>

<h3 id="f">F#</h3>

<ul>
  <li><a href="https://fsharp.org">F#</a> is Microsoft’s ML-style language, it has all the main features of OCaml</li>
  <li>It integrates well with the MSFT toolchain</li>
  <li>Here is an example from their tutorial; looks familiar, eh?</li>
</ul>

<div class="language-fsharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="n">square</span> <span class="n">x</span> <span class="p">=</span> <span class="n">x</span> <span class="p">*</span> <span class="n">x</span>
<span class="k">let</span> <span class="n">isOdd</span> <span class="n">x</span> <span class="p">=</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="p">&lt;&gt;</span> <span class="mi">0</span>

<span class="k">let</span> <span class="n">sumOfOddSquares</span> <span class="n">nums</span> <span class="p">=</span>
    <span class="n">nums</span>
    <span class="p">|&gt;</span> <span class="nn">List</span><span class="p">.</span><span class="n">filter</span> <span class="n">isOdd</span>
    <span class="p">|&gt;</span> <span class="nn">List</span><span class="p">.</span><span class="n">sumBy</span> <span class="n">square</span>

<span class="k">let</span> <span class="n">numbers</span> <span class="p">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">;</span> <span class="mi">2</span><span class="p">;</span> <span class="mi">3</span><span class="p">;</span> <span class="mi">4</span><span class="p">;</span> <span class="mi">5</span><span class="p">]</span>
<span class="k">let</span> <span class="n">sum</span> <span class="p">=</span> <span class="n">sumOfOddSquares</span> <span class="n">numbers</span>
<span class="n">printfn</span> <span class="s2">"The sum of the odd squares in %A is %d"</span> <span class="n">numbers</span> <span class="n">sum</span>

<span class="k">type</span> <span class="nc">Shape</span> <span class="p">=</span>
    <span class="p">|</span> <span class="nc">Square</span> <span class="k">of</span> <span class="n">side</span><span class="p">:</span> <span class="n">double</span>
    <span class="p">|</span> <span class="nc">Rectangle</span> <span class="k">of</span> <span class="n">width</span><span class="p">:</span> <span class="n">double</span> <span class="p">*</span> <span class="n">length</span><span class="p">:</span> <span class="n">double</span>

<span class="k">let</span> <span class="n">getArea</span> <span class="n">shape</span> <span class="p">=</span>
    <span class="k">match</span> <span class="n">shape</span> <span class="k">with</span>
    <span class="p">|</span> <span class="nc">Square</span> <span class="n">side</span> <span class="p">-&gt;</span> <span class="n">side</span> <span class="p">*</span> <span class="n">side</span>
    <span class="p">|</span> <span class="nc">Rectangle</span> <span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">length</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="n">width</span> <span class="p">*</span> <span class="n">length</span>

<span class="k">let</span> <span class="n">square</span> <span class="p">=</span> <span class="nc">Square</span> <span class="mi">2</span><span class="p">.</span><span class="mi">0</span>
<span class="n">printfn</span> <span class="s2">"The area of the square is %f"</span> <span class="p">(</span><span class="n">getArea</span> <span class="n">square</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="reason">Reason</h3>

<ul>
  <li><a href="https://reasonml.github.io">Reason</a> is an interesting beast, it has <strong>exactly</strong> the features of OCaml
    <ul>
      <li>but with a somewhat different syntax not so loaded with historical oddities and kludges</li>
      <li>You can convert <code>.rs</code> to <code>.ml</code> and vice-versa very cleanly and it also translates to JavaScript for browser code</li>
      <li>The <a href="https://reasonml.github.io/docs/en/overview">Overview</a> provides a glimpse of the syntax
        <ul>
          <li>it is not hard to see how it is a minor variation on OCaml</li>
        </ul>
      </li>
      <li>We will play with <a href="https://reasonml.github.io/en/try">this cool live demo</a> which shows code in all three languages at once</li>
    </ul>
  </li>
</ul>

<h4 id="reasonreact">ReasonReact</h4>

<ul>
  <li>The main thrust behind Reason is use of FP in web UI programming</li>
  <li>ReasonReact is the Reason version of Facebook’s excellent React UI library</li>
  <li>We will take a peek at a <a href="https://github.com/reasonml-old/reason-react-example/tree/master/src/todomvc">Simple To Do app</a> written in ReasonReact</li>
</ul>

<h3 id="elm">Elm</h3>

<ul>
  <li><a href="https://elm-lang.org">Elm</a> is an ML-school language</li>
  <li>Designed for writing web apps, it runs in the browser via translation to JS.
    <ul>
      <li>Similar to Reason in goal</li>
    </ul>
  </li>
</ul>

<h3 id="scala">Scala</h3>

<ul>
  <li>Scala is a hybrid of Java and ML which runs on the JVM so can link with Java libraries</li>
  <li>It is easier to do FP in compared to Java since it was built-in from the start: pattern matching, type inference, etc.</li>
</ul>

<h3 id="haskell">Haskell</h3>

<p>Haskell is in the ML school; Devin will present Haskell in detail.</p>

<h3 id="lisp--scheme--racket">Lisp / Scheme / Racket</h3>

<ul>
  <li>Lisp was the very first functional programming language, from the late 50’s
    <ul>
      <li>it was dynamically typed, there are no type declarations or inference and errors caught at runtime.</li>
    </ul>
  </li>
  <li>Scheme was a clean-up of Lisp in the 70’s-80’s, there were several errors in the Lisp design
    <ul>
      <li>e.g. dynamic scoping – closures were not computed in Lisp.</li>
    </ul>
  </li>
  <li><a href="https://racket-lang.org">Racket</a> is a popular modern dialect of Scheme with many added features including types</li>
  <li>Additionally, Smalltalk, Ruby, Python, and JavaScript are dynamically-typed and are thus descended from Lisp.</li>
</ul>

<h3 id="clojure">Clojure</h3>

<p>Clojure is in the Lisp school; Kelvin will present Clojure in detail.</p>

<h2 id="fp-extensions-to-yourfavoritelang">FP Extensions to YourFavoriteLang</h2>

<ul>
  <li>It is now possible to do FP-style programming in Java, C++, Python, JavaScript, etc.</li>
  <li>All of these languages support higher-order functions with Currying, etc.</li>
  <li>But, there is not necessarily good library support or integration</li>
  <li>Also, to “really do” FP you need immutable data structures and variables
    <ul>
      <li>limited support for that in most of these languages currently</li>
    </ul>
  </li>
</ul>

<h3 id="fp-in-java">FP in Java</h3>

<p>Java 8+ has <strong>Lambdas</strong></p>

<ul>
  <li>Lambdas are a bit clunky to use compared to OCaml due to how they were patched in.</li>
  <li>Java 8 higher-order functions  “pun” as an interface with only one method in it.
    <ul>
      <li>the function is taken to be the body of that single method, no need to write the method name when declaring the function then.</li>
    </ul>
  </li>
  <li>There is also some (limited) type inference for Lambda parameters.</li>
  <li><a href="http://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html">Here is a tutorial</a></li>
  <li>Currying in Java, somewhat painfully: <a href="https://gist.github.com/timyates/7674005">Gist currying example</a>. For that example here is the <a href="https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/function/Function.html">Function</a> and <a href="https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/util/function/BiFunction.html">BiFunction</a> type.</li>
  <li>Use <code>final</code> to declare variables immutable in Java - use it!</li>
  <li>There are no immutable data structures in the Java standard library unfortunately</li>
</ul>

<p>Terminology aside: <em>closure</em></p>

<ul>
  <li>A <em>closure</em> is just a higher-order function return value</li>
  <li>The term “closure” comes from how they are implemented – all variables not local to the function must be remembered</li>
  <li>OCaml example:</li>
</ul>

<div class="language-ocaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">#</span> <span class="k">let</span> <span class="n">f</span> <span class="o">=</span> <span class="p">(</span><span class="k">fun</span> <span class="n">x</span> <span class="o">-&gt;</span> <span class="k">fun</span> <span class="n">y</span> <span class="o">-&gt;</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">)</span> <span class="mi">4</span><span class="p">;;</span>
<span class="k">val</span> <span class="n">f</span> <span class="o">:</span> <span class="kt">int</span> <span class="o">-&gt;</span> <span class="kt">int</span> <span class="o">=</span> <span class="o">&lt;</span><span class="k">fun</span><span class="o">&gt;</span> <span class="c">(* f is at runtime the closure &lt;fun y code, {x |-&gt; 4}&gt; *)</span>
<span class="o">#</span> <span class="n">f</span> <span class="mi">3</span><span class="p">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="o">=</span> <span class="mi">7</span>
</code></pre></div></div>

<ul>
  <li>Note how <code>x</code> is a function parameter and is remembered in spite of function returning, means <code>x</code> needs to be <em>copied</em> into the closure.</li>
</ul>

<h3 id="fp-in-c">FP in C++</h3>

<ul>
  <li>Everyone is joining the Lambda party!</li>
  <li>Details <a href="http://en.wikipedia.org/wiki/Anonymous_function#C.2B.2B_.28since_C.2B.2B11.29">here</a>.</li>
  <li>Closures are a headache in C++ due to different low-level ways data can be accessed in C++.</li>
  <li>Use <code>const</code> declarations to get immutable variables</li>
  <li>C++ also has some type inference a la OCaml  <a href="https://en.wikipedia.org/wiki/C%2B%2B11#Type_inference">C++ local type inference </a>
    <ul>
      <li>e.g. <code>auto mydata = 22;</code>. <code>auto</code> is like <code>var</code> in Java.</li>
    </ul>
  </li>
  <li>C++-14 adds <a href="http://en.wikipedia.org/wiki/C++14#Generic_lambdas">generic lambdas</a> which look like the polymorphic types of OCaml/Java but are really just fancy macros.</li>
</ul>

<h3 id="fp-in-python">FP In Python</h3>

<ul>
  <li>Python “already has” FP including closures and Currying.</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">adder</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
     <span class="k">def</span> <span class="nf">uni_adder</span><span class="p">(</span><span class="n">y</span><span class="p">):</span>
         <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
     <span class="k">return</span> <span class="n">uni_adder</span>
 
<span class="k">print</span> <span class="n">adder</span><span class="p">(</span><span class="mi">4</span><span class="p">)(</span><span class="mi">18</span><span class="p">)</span>
</code></pre></div></div>
<ul>
  <li>The above is a bit clunky having to name the intermediate function</li>
  <li><code>map</code>, <code>filter</code>, <code>reduce</code> etc are already in the core language</li>
  <li>In addition, the <a href="https://docs.python.org/3/library/functools.html"><code>functools</code></a> standard library supports other convenience higher-order function operations</li>
  <li>Plus, if you want even more FP-ism, there are additional libraries such as <a href="https://toolz.readthedocs.io/en/latest/index.html">PyToolz</a></li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">toolz</span> <span class="kn">import</span> <span class="n">curry</span>
<span class="o">@</span><span class="n">curry</span>
 <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
     <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>

<span class="n">plusfour</span> <span class="o">=</span> <span class="n">add</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>     
</code></pre></div></div>

<ul>
  <li>PyToolz is basically a port of the Clojure FP libraries to Python</li>
  <li>Python is weak on immutable variables, there is no <code>const</code>/<code>final</code>
    <ul>
      <li>but the tuples and <code>frozenset</code> are immutable data structures</li>
      <li>and Python 3.8 finally has <code>final</code></li>
    </ul>
  </li>
</ul>

<h3 id="fp-in-javascript">FP In JavaScript</h3>

<ul>
  <li>JavaScript is similar to Python, it has the basics built-in already</li>
</ul>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">adder</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span> 
<span class="p">{</span> <span class="k">return</span> <span class="kd">function</span> <span class="nx">uni_adder</span><span class="p">(</span><span class="nx">b</span><span class="p">)</span> 
    <span class="p">{</span> <span class="k">return</span> <span class="nx">a</span><span class="o">+</span><span class="nx">b</span><span class="p">;</span>
    <span class="p">};</span>
<span class="p">};</span>
</code></pre></div></div>

<ul>
  <li><code>const</code> declarations bring the FP immutable variable default to JS - use it!</li>
  <li>JavaScript has no immutable data structures however
    <ul>
      <li>means e.g. lists won’t be able to share sub-structures so “FP programming” will be less efficient in JS.</li>
    </ul>
  </li>
</ul>
      
          </section>
        </div>
      </div>

				<div id="copyright">
					Web Design: <a href="http://templated.co">TEMPLATED</a> Images: <a href="http://unsplash.com">Unsplash</a> (<a href="http://unsplash.com/cc0">CC0</a>)
				</div>			


   </body>
</html>

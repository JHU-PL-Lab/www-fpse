<!DOCTYPE HTML>
<!--
Solarize by TEMPLATED
templated.co @templatedco
Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
-->
<html>
<head>
 <title>Functional Programming and Software Engineering</title>
 <meta http-equiv="content-type" content="text/html; charset=utf-8" />
 <meta name="description" content="" />
 <meta name="keywords" content="" />
 <!--[if lte IE 8]><script src="/pl/css/ie/html5shiv.js"></script><![endif]-->
 <script src="/pl/js/jquery.min.js"></script>
 <script src="/fpse/js/jquery.dropotron.min.js"></script>
 <script src="/fpse/js/skel.min.js"></script>
 <script src="/fpse/js/skel-layers.min.js"></script>
 <script src="/fpse/js/init.js"></script>
 <noscript>
  <link rel="stylesheet" href="/fpse/css/skel.css" />
  <link rel="stylesheet" href="/fpse/css/style.css" />
 </noscript>
 <!--[if lte IE 8]><link rel="stylesheet" href="/fpse/css/ie/v8.css" /><![endif]-->
</head>
<body>

 <!-- Header Wrapper -->
  <div class="wrapper style1">
  
  <!-- Header -->
   <div id="header">
    <div class="container">
      
     <!-- Logo -->
      <h1><a href="/fpse/index.html" id="logo">FPSE</a></h1>
     
     <!-- Nav -->
      <nav id="nav">
       <ul>
          <li><a href="/fpse/logistics.html">Logistics</a></li>
          <li><a href="/fpse/dateline.html">Dateline</a></li> <!-- converted; don't edit .html edit .md -->
          <li><a href="/fpse/coding.html">Coding</a>
          <li><a href="/fpse/assignments/">Assignments</a>
          <li><a href="https://piazza.com/class/kd4zpku2vbg1az">Piazza</a></li>
          <li><a href="/fpse/contact.html">Contact Us</a></li>
      </ul>
</nav>
</div>
</div>


<!-- close-out code before the standard footer .. use to glue in raw html. -->
</div>
<!-- Main -->
<div id="main" class="wrapper style4">
<!-- Content -->
<div id="content" class="container">
<section>

<link rel="stylesheet" href="/fpse/css/friendly.css" />
<meta charset="utf-8" />
    <h2 id="ocaml-coding-information">OCaml Coding Information</h2>

<p>We are using <a href="https://ocaml.org">OCaml</a> version 4.10.0.</p>

<h3 id="installing-ocaml-4100-and-associated-tools">Installing OCaml 4.10.0 and associated tools</h3>

<p>We require that you use the <a href="https://opam.ocaml.org">OPAM packaging system</a> for installing OCaml and its extensions.  Once you get <code>opam</code> installed and working, everything else should be easy to install .. so the only hard part is the first step.</p>

<ul>
  <li>For Linux or Mac see <a href="https://opam.ocaml.org/doc/Install.html">The OPAM install page</a> for install instructions.</li>
  <li>For Mac users, the above requires Homebrew (a package manager for Linux-ish libraries) so here is a more detailed suggestion of some copy/paste that should work.
    <ul>
      <li>Mac without homebrew installed:<code>/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)"</code> will install Homebrew</li>
      <li>Mac with Homebrew (make sure you first do a <code>brew update</code> before this): <code>brew install gpatch; brew install opam</code></li>
    </ul>
  </li>
  <li>You will then need to run some terminal commands to set up the basics:
    <ol>
      <li><code>opam init</code> to initialize OPAM;</li>
      <li><code>opam switch create 4.10.0</code> (this will take awhile) to build OCaml version 4.10.0 (the initial install is usually a slightly outdated version; also, if you already had an OPAM install you need to <code>opam update</code> before this <code>switch</code> to make sure OPAM is aware of the latest version);</li>
      <li><code>eval (opam env)</code> to let your shell know where the OPAM files are; and</li>
      <li>Also add the very same line, <code>eval (opam env)</code>, to your<code>.profile</code>/<code>.bashrc</code> shell init file as you would need to do that in every new terminal window otherwise. (for <code>.zshrc</code> on macs, use <code>eval `opam env`</code>instead )</li>
    </ol>
  </li>
  <li>Windows Windows Windows.. the OCaml toolchain is unfortunately not good in straight Windows.
    <ul>
      <li>If you are running a recent Windows install, we recommend installing <a href="https://docs.microsoft.com/en-us/windows/wsl/">WSL 2</a> which once you have set up will allow you to follow the Linux Ubuntu install instructions to get <code>opam</code>.</li>
      <li>Option 2 is to set up a Linux VM on your Windows box, and then set up a Linux install of OCaml within the VM.  There are many good tutorials on how to build a Linux VM, <a href="https://www.lifewire.com/run-ubuntu-within-windows-virtualbox-2202098">here is one of them</a>.  Once your virtual Linux box is set up, you can follow the <code>opam</code> Linux install instructions.</li>
    </ul>
  </li>
</ul>

<h4 id="required-opam-standard-packages">Required OPAM Standard packages</h4>

<p>Once you have <code>opam</code> and <code>ocaml</code> 4.10.0 installed, run the following <code>opam</code> command to install additional necessary packages for the class:</p>

<pre><code>opam install merlin ocp-indent user-setup menhir utop ppx_deriving core bisect_ppx ounit2 async ppx_deriving_yojson
</code></pre>

<p>Lastly, in order for the OCaml top loop to start up with some of these libraries already loaded, edit the file <code>~/.ocamlinit</code> to add the lines below (note <code>opam</code> probably already created this file, just make sure the lines below are in it).  The lines in this file are input to the top loop when it first starts.  <code>topfind</code> really should be built-in, it allows you to load libraries.  The <code>require</code> command is one thing <code>topfind</code> adds, here it is loading the <code>Core</code> libraries to replace the standard ones coming with OCaml.  We will be using <code>Core</code> as they are improved versions.</p>
<pre><code class="language-ocaml">#use "topfind";;
#thread;;
#require "core.top";;
open Core;;
</code></pre>

<h3 id="ocaml-documentation">OCaml Documentation</h3>

<h4 id="the-ocaml-manual">The OCaml Manual</h4>

<p>The OCaml manual is <a href="http://caml.inria.fr/pub/docs/manual-ocaml/">here</a>.</p>
<ul>
  <li>We will cover most of the topics in Part I Chapters 1 and 2 from the manual.</li>
  <li>Manual Chapter 7 is the language reference where you can look up details if needed.</li>
  <li>We will be covering a few topics in the <a href="http://caml.inria.fr/pub/docs/manual-ocaml/extn.html">language extensions</a> chapter:
    <ul>
      <li><a href="http://caml.inria.fr/pub/docs/manual-ocaml/locallyabstract.html">locally abstract types</a>,</li>
      <li><a href="http://caml.inria.fr/pub/docs/manual-ocaml/firstclassmodules.html">First-class modules</a>, and</li>
      <li><a href="http://caml.inria.fr/pub/docs/manual-ocaml/gadts.html">GADT’s</a>.</li>
    </ul>
  </li>
  <li>Part III of the manual documents the tools, we will not be using much of this because third parties have improved on many of the tools and we will instead use those versions.  See below in the Tools list where we give “our” list of tools.</li>
  <li>Part IV describes the standard libraries; as with the tool we will primarily use Jane Street’s <code>Base</code>/<code>Core</code> which replaces these with more modern versions so we will generally be ignoring this Part.</li>
</ul>

<h4 id="base-and-core">Base and Core</h4>
<p><code>Core</code> is a complete rewrite of the standard libraries that come built in to OCaml.  Think of it as a “more modern” version of lists, sets, hash tables, etc, with lots of little improvements in many places.  It is an extension of <code>Base</code> which is in fact what we will mainly be using.</p>

<ul>
  <li><a href="https://ocaml.janestreet.com/ocaml-core/latest/doc/core/Core/index.html">Core documentation</a> is not particularly readable as <code>Core</code> extends <code>Core_kernel</code> which extends <code>Base</code> and most times you probably just want the <code>Base</code> version so I would suggest starting there: <a href="https://ocaml.janestreet.com/ocaml-core/latest/doc/base/Base/index.html">Base Documentation</a>.</li>
  <li>The <a href="https://dev.realworldocaml.org/index.html">Real World OCaml</a> book gives tutorial introductions to many of the <code>Core</code>/<code>Base</code>.</li>
</ul>

<h3 id="the-fpse-ocaml-toolbox">The FPSE OCaml Toolbox</h3>

<p>Here are all the tools we will be using.  You are required to have a build for which all these tools work, and the above <code>opam</code> one-liner should install them all.</p>

<ul>
  <li><a href="https://opam.ocaml.org"><code>opam</code></a> is the package management system.  See above for install and setup instructions.</li>
  <li><a href="http://caml.inria.fr/pub/docs/manual-ocaml/comp.html"><code>ocamlc</code></a> is the standalone compiler which we will be invoking via the <code>dune</code> build tool.</li>
  <li><a href="https://opam.ocaml.org/blog/about-utop/"><code>utop</code></a> is the read/eval/print loop.  It is a replacement for the original <a href="http://caml.inria.fr/pub/docs/manual-ocaml/toplevel.html"><code>ocaml</code></a> command, with many more features such as command history, replay, etc.</li>
  <li><a href="https://opensource.janestreet.com/core/"><code>Base</code>/<code>Core</code></a> was described above</li>
  <li><a href="http://caml.inria.fr/pub/docs/manual-ocaml/ocamldoc.html"><code>ocamldoc</code></a> is the documentation generator, turning code comments into documentation webpages similar to JavaDoc etc.</li>
  <li><a href="https://dune.build"><code>dune</code></a> is the build tool (think <code>make</code>) that we will be using.  <code>ocamlbuild</code> is the standard build tool but it is not very flexible so we will not be using it.</li>
  <li><a href="https://github.com/gildor478/ounit">OUnit</a> is the unit tester for OCaml.  The opam package is called <code>ounit2</code> for obscure reasons.</li>
  <li><a href="https://github.com/janestreet/ppx_jane"><code>ppx_jane</code></a> adds boilerplate functions to type definitions as well as many other macros.  Unfortuantely it is not documented, but <code>[@@deriving equal, compare, sexp]</code> for example will add equal and compare on a type, and to/from s-expression convertor functions.</li>
</ul>

<p>The above tools will be our “bread and butter”, we will be using them on many assignments.  There are also a few specialized tools used on some specific assignments.</p>

<ul>
  <li><a href="https://github.com/aantron/bisect_ppx">Bisect</a> will be used for code coverage.</li>
  <li><a href="https://opensource.janestreet.com/base_quickcheck/">base_quickcheck</a> is a fuzz tester / automated test generator for OCaml.</li>
  <li><a href="https://opensource.janestreet.com/async/">Async</a> is a non-preempting asychronous threads library.</li>
</ul>

<h3 id="development-environments-for-ocaml">Development Environments for OCaml</h3>

<p>You should use one of Atom or VSCode since they have OCaml-specific features such as syntax highliting, auto-indent, and lint analysis to make the coding process much smoother. If you are using a VM under Windows, you should aim to run one of these editors <em>within</em> the VM to take advantage of syntax highlighting and the like for OCaml.</p>

<p><strong><a href="https://code.visualstudio.com">Visual Studio Code</a></strong>: <br />
VSCode has very good OCaml support and is the “officially recommended editor”. Install the <strong>OCaml and Reason IDE</strong> extension to get syntax highlighting, type information, etc: from the <code>View</code> menu select <code>Extensions</code>, then type in OCaml and this extension will show up; install it. You can also easily run a <code>utop</code> shell from within VSCode, just open up a shell from the <code>Terminal</code> menu and type <code>utop</code>.</p>

<p><a href="https://atom.io"><strong>Atom</strong></a>: <br />
Atom is very good with OCaml, but is unfortunately being slowly phased out after Microsoft bought Github.  So, it is probably a good time to switch from Atom to VSCode if you have not already.  To use Atom with OCaml install the <code>atom</code> and <code>apm</code> shell commands (see the <strong>Atom..Install Shell Commands</strong> menu option on Macs, or type shift-command-p(⇧⌘P) and then in the box type command <code>Window: Install Shell Commands</code>). With those commands installed, type into a terminal</p>

<pre><code>    apm install language-ocaml linter ocaml-indent ocaml-merlin
</code></pre>

<p>to install the relevant OCaml packages. Here are some handy Atom keymaps for common operations these extensions support – add this to your <code>.atom/keymap.cson</code> file:</p>

<pre><code>    'atom-text-editor[data-grammar="source ocaml"]':
      'ctrl-shift-t': 'ocaml-merlin:show-type'
      'alt-shift-r': 'ocaml-merlin:rename-variable'
      'ctrl-shift-l': 'linter:lint'
      'ctrl-alt-f': 'ocaml-indent:file'
</code></pre>

<p><code>linter:lint</code> will refresh the lint data based on the latest compiled version of your code. In addition, control-space should auto-complete.</p>

<p><strong>vim</strong>: If you use <code>vim</code>, my condolances as it is woefully behind the times in spite of many band-aids added over the years.  Still, if you have been brainwashed to believe it is good, type shell command <code>opam user-setup install</code> after doing the above  default <code>opam</code> install to set up syntax highlighting, tab completion, displaying types, etc. See <a href="https://github.com/ocaml/merlin/blob/master/vim/merlin/doc/merlin.txt">here</a> for some dense documentation.</p>

<p><strong>emacs</strong>: See vim.  Confession: I still use emacs a bit but am trying to wean myself.  35-year-old habits die hard.  Note you will need to also <code>opam install tuareg</code> to get emacs to work, and follow the instructions the install prints out.</p>

<h3 id="real-world-ocaml">Real World OCaml</h3>

<ul>
  <li>The <a href="https://dev.realworldocaml.org/index.html">Real World OCaml</a> book has recently been updated to a new edition.</li>
  <li>It documents many of the extensions we will be using, <code>Base</code>/<code>Core</code> libraries in particular, and we will be referencing several of the chapters for various lecture topics.</li>
</ul>

<h3 id="coding-style">Coding Style</h3>

<ul>
  <li>The <a href="http://pl.cs.jhu.edu/fpse/style-guide.html">FPSE Style Guide</a> is the standard we will adhere to in the class; it follows general best practices for modern OCaml.  It will be expected of your code from HW 2 on.</li>
</ul>

<h3 id="example-worked-exercises">Example Worked Exercises</h3>

<ul>
  <li><a href="https://exercism.io/tracks/ocaml/exercises">Exercism OCaml Track</a> has a large set of programming problems to solve which have solutions by many other programmers as well.  We will reference some of these examples in lecture.</li>
  <li><a href="https://ocaml-sf.org/learn-ocaml-public/#activity%3Dexercises">Learn OCaml</a> has a large number of exercises to solve.  The <a href="https://github.com/ocaml-sf/learn-ocaml-corpus/tree/master/exercises">solutions are online</a>.</li>
</ul>

<h3 id="other-resources">Other Resources</h3>

<ul>
  <li><a href="https://www.cs.cornell.edu/courses/cs3110/2020sp/textbook/">Cornell cs3110 book</a> is related to this course and was one of the main inspirations along with Real World OCaml.</li>
  <li>The <a href="https://ocamlverse.github.io/content/ecosystem.html">OCamlverse Ecosystem page</a> lists many libraries available.
    <ul>
      <li>Note that the libraries in the list are not necessarily up-to-date or reliable or well-documented.  They are roughly sorted by how reliable they are though so start with the ones at the top of a given list.</li>
    </ul>
  </li>
  <li><a href="https://github.com/ocaml-community/awesome-ocaml">Awesome OCaml</a> is another list of libraries, tutorials, etc.</li>
</ul>

      
          </section>
        </div>
      </div>

				<div id="copyright">
					Web Design: <a href="http://templated.co">TEMPLATED</a> Images: <a href="http://unsplash.com">Unsplash</a> (<a href="http://unsplash.com/cc0">CC0</a>)
				</div>			


   </body>
</html>

<!DOCTYPE HTML>
<!--
Solarize by TEMPLATED
templated.co @templatedco
Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
-->
<html>
<head>
 <title>Functional Programming and Software Engineering</title>
 <meta http-equiv="content-type" content="text/html; charset=utf-8" />
 <meta name="description" content="" />
 <meta name="keywords" content="" />
 <!--[if lte IE 8]><script src="/pl/css/ie/html5shiv.js"></script><![endif]-->
 <script src="/pl/js/jquery.min.js"></script>
 <script src="/fpse/js/jquery.dropotron.min.js"></script>
 <script src="/fpse/js/skel.min.js"></script>
 <script src="/fpse/js/skel-layers.min.js"></script>
 <script src="/fpse/js/init.js"></script>
 <noscript>
  <link rel="stylesheet" href="/fpse/css/skel.css" />
  <link rel="stylesheet" href="/fpse/css/style.css" />
 </noscript>
 <!--[if lte IE 8]><link rel="stylesheet" href="/fpse/css/ie/v8.css" /><![endif]-->
</head>
<body>

 <!-- Header Wrapper -->
  <div class="wrapper style1">
  
  <!-- Header -->
   <div id="header">
    <div class="container">
      
     <!-- Logo -->
      <h1><a href="/fpse/index.html" id="logo">FPSE</a></h1>
     
     <!-- Nav -->
      <nav id="nav">
       <ul>
          <li><a href="/fpse/logistics.html">Logistics</a></li>
          <li><a href="/fpse/syllabus.html">Syllabus</a></li>
          <li><a href="/fpse/dateline.html">Dateline</a></li> <!-- converted; don't edit .html edit .md -->
          <li><a href="/fpse/coding.html">Coding</a>
          <li><a href="/fpse/assignments/">Assignments</a>
          <li><a href="https://piazza.com/class/TBA">Piazza</a></li>
          <li><a href="/fpse/contact.html">Contact Us</a></li>
      </ul>
</nav>
</div>
</div>
<!-- close-out code before the standard footer .. use to glue in raw html. -->
</div>
<!-- Main -->
<div id="main" class="wrapper style4">
<!-- Content -->
<div id="content" class="container">
<section>
<h2 id="ocaml-coding-information">OCaml Coding Information</h2>

<p>We are using OCaml version 4.10.0.</p>

<h3 id="installing-ocaml-4100-and-associated-tools">Installing OCaml 4.10.0 and associated tools</h3>

<p>We require that you use the <a href="https://opam.ocaml.org">OPAM packaging system</a> for installing OCaml and its extensions.  Once you get <code class="highlighter-rouge">opam</code> installed and working, everything else should be easy to install .. so the only hard part is the first step.</p>

<ul>
  <li>For Linux or Mac see <a href="https://opam.ocaml.org/doc/Install.html">The OPAM install page</a> for install instructions.</li>
  <li>For Mac users, the above requires Homebrew (a package manager for Linux-ish libraries) so here is a more detailed suggestion of some copy/paste that should work.
    <ul>
      <li>Mac without homebrew installed:<code class="highlighter-rouge">/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)"</code> will install Homebrew</li>
      <li>Mac with Homebrew (make sure you do a <code class="highlighter-rouge">brew update</code> if you already had Homebrew): <code class="highlighter-rouge">brew install gpatch; brew install opam</code></li>
    </ul>
  </li>
  <li>Depending on which method you use you may then need to run some terminal commands to set up the basics:
    <ol>
      <li><code class="highlighter-rouge">opam init</code> to initialize OPAM;</li>
      <li><code class="highlighter-rouge">opam switch create 4.10.0</code> to build OCaml version 4.10.0 (the initial install is usually a slightly outdated version; also, if you already have an OPAM install you may need to <code class="highlighter-rouge">opam update</code>  to make sure OPAM is aware of the latest version before performing the <code class="highlighter-rouge">create</code>);</li>
      <li><code class="highlighter-rouge">eval `opam env`</code> to let the shell know where the OPAM files are; and</li>
      <li>Also add the very same line, <code class="highlighter-rouge">eval `opam env`</code>, to your<code class="highlighter-rouge">.profile</code>/<code class="highlighter-rouge">.bashrc</code>/<code class="highlighter-rouge">.zshrc</code> shell init file as you would need to do that in every new terminal window otherwise.</li>
    </ol>
  </li>
  <li>Windows Windows Windows.. the OCaml toolchain is unfortunately not good in straight Windows.
    <ul>
      <li>If you are running a recent Windows install, we recommend installing <a href="https://docs.microsoft.com/en-us/windows/wsl/">WSL 2</a> which once you have set up will allow you to follow the Linux Ubuntu install instructions to get <code class="highlighter-rouge">opam</code>.</li>
      <li>Option 2 is to set up a Linux VM on your Windows box, and then set up a Linux install of OCaml within the VM.  There are many good tutorials on how to build a Linux VM, <a href="https://www.lifewire.com/run-ubuntu-within-windows-virtualbox-2202098">here is one of them</a>.  Once your virtual Linux box is set up, you can follow the <code class="highlighter-rouge">opam</code> Linux install instructions.</li>
    </ul>
  </li>
</ul>

<h4 id="required-opam-standard-packages">Required OPAM Standard packages</h4>

<p>Once you have <code class="highlighter-rouge">opam</code> and <code class="highlighter-rouge">ocaml</code> 4.10.0 installed, run the following <code class="highlighter-rouge">opam</code> command to install additional necessary packages for the class:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>opam install merlin ocp-indent user-setup tuareg menhir utop ppx_deriving base bisect_ppx ounit2 qcheck async
</code></pre></div></div>

<h3 id="the-official-ocaml-manual">The Official OCaml Manual</h3>

<p>The manual is <a href="http://caml.inria.fr/pub/docs/manual-ocaml/">here</a>.<br />
Let us give a high-level overview of sections of the manual we will be using in the course.</p>

<ul>
  <li>We will cover most of Part I Chapters 1 and 2.</li>
  <li>Chapter 7 is the language reference where you can look up details if needed.</li>
  <li>We will be covering a few topics in the <a href="http://caml.inria.fr/pub/docs/manual-ocaml/extn.html">language extensions</a> chapter:
    <ul>
      <li><a href="http://caml.inria.fr/pub/docs/manual-ocaml/locallyabstract.html">locally abstract types</a>,</li>
      <li><a href="http://caml.inria.fr/pub/docs/manual-ocaml/firstclassmodules.html">First-class modules</a>, and</li>
      <li><a href="http://caml.inria.fr/pub/docs/manual-ocaml/gadts.html">GADT’s</a>.</li>
    </ul>
  </li>
  <li>Part III documents the tools.  We will use some of the standard tools but third parties have improved on many of them.  See below in the Tools list where we give “our” list of tools.</li>
  <li>Part IV describes the standard libraries; we will mainly use Jane Street’s base which replaces these, but we may look at a few of the <a href="http://caml.inria.fr/pub/docs/manual-ocaml/stdlib.html">standard library modules</a>.</li>
</ul>

<h3 id="the-fpse-ocaml-toolbox">The FPSE OCaml Toolbox</h3>

<p>Here are all the tools we will be using.  You are required to have a build for which all these tools work, and the above <code class="highlighter-rouge">opam</code> one-liner should install them all.</p>

<ul>
  <li><a href="https://opam.ocaml.org"><code class="highlighter-rouge">opam</code></a> is the package management system which is required.  See above for install instructions.</li>
  <li><a href="http://caml.inria.fr/pub/docs/manual-ocaml/comp.html"><code class="highlighter-rouge">ocamlc</code></a> is the standalone compiler which we will generally be invoking via the <code class="highlighter-rouge">dune</code> build tool.</li>
  <li><a href="http://caml.inria.fr/pub/docs/manual-ocaml/toplevel.html"><code class="highlighter-rouge">ocaml</code></a> is the interactive REPL (read-eval-print loop) which we will generally be using via the more feature-laden <code class="highlighter-rouge">utop</code> extension.</li>
  <li><a href="https://opam.ocaml.org/blog/about-utop/"><code class="highlighter-rouge">utop</code></a> is a replacement for <code class="highlighter-rouge">ocaml</code> which has a lot more features.</li>
  <li><a href="http://caml.inria.fr/pub/docs/manual-ocaml/ocamldoc.html"><code class="highlighter-rouge">ocamldoc</code></a> is the documentation generator, turning code comments into documentation webpages similar to JavaDoc etc.</li>
  <li><a href="https://dune.build"><code class="highlighter-rouge">dune</code></a> is the build tool (think <code class="highlighter-rouge">make</code>) that we will be using.  <code class="highlighter-rouge">ocamlbuild</code> is the standard build tool but it is not very flexible.</li>
  <li><a href="https://github.com/gildor478/ounit">OUnit</a> is the unit tester for OCaml.  The opam package is called <code class="highlighter-rouge">ounit2</code> for obscure reasons.</li>
  <li><a href="https://github.com/c-cube/qcheck">QCheck</a> is a fuzz tester / automated test generator for OCaml.</li>
  <li><a href="https://github.com/aantron/bisect_ppx"><code class="highlighter-rouge">bisect_ppx</code></a> will be used for code coverage.</li>
  <li><a href="https://opensource.janestreet.com/base/">Base</a> is a complete rewrite of the standard libraries that come built in to OCaml.  Think of it as a “more modern” version of lists, sets, hash tables, etc, with lots of little improvements in many places.  We are going to use Base as it is what real OCaml software engineers today are using.</li>
  <li><a href="https://opensource.janestreet.com/async/">Async</a> is a non-preempting asychronous threads library.</li>
  <li><a href="https://github.com/ocaml-ppx/ppx_deriving"><code class="highlighter-rouge">ppx_deriving</code></a> adds boilerplate copde to type declarations such as the all-important pretty printing.</li>
  <li>Other ppx extensions, details forthcoming.  <code class="highlighter-rouge">ppx_let</code> and <code class="highlighter-rouge">ppx_jane</code> (s-expression) (https://github.com/janestreet/ppx_sexp_conv) for example; former comes with async)</li>
</ul>

<h3 id="development-environments-for-ocaml">Development Environments for OCaml</h3>

<p>You should use one of Atom or VSCode since they have OCaml-specific features such as syntax highliting, auto-indent, and lint analysis to make the coding process much smoother. If you are using a VM under Windows, you should aim to run one of these editors <em>within</em> the VM to take advantage of syntax highlighting and the like for OCaml.</p>

<dl>
  <dt><strong><a href="https://code.visualstudio.com">Visual Studio Code</a></strong></dt>
  <dd>VSCode has very good OCaml support and is the “officially recommended editor”. Install the <strong>OCaml and Reason IDE</strong> extension to get syntax highlighting, type information, etc: from the <code class="highlighter-rouge">View</code> menu select <code class="highlighter-rouge">Extensions</code>, then type in OCaml and this extension will show up; install it. You can also easily run a <code class="highlighter-rouge">utop</code> shell from within VSCode, just open up a shell from the <code class="highlighter-rouge">Terminal</code> menu and type <code class="highlighter-rouge">utop</code>.</dd>
  <dt><a href="https://atom.io"><strong>Atom</strong></a></dt>
  <dd>
    <p>Atom is also very good with OCaml.  Install Atom, read a <a href="https://flight-manual.atom.io">tutorial</a> if you are not so familiar with it, and then install the <code class="highlighter-rouge">atom</code> and <code class="highlighter-rouge">apm</code> shell commands (see the <strong>Atom..Install Shell Commands</strong> menu option on Macs, or type shift-command-p(⇧⌘P) and then in the box type command <code class="highlighter-rouge">Window: Install Shell Commands</code>). With those commands installed, type into a terminal</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>apm install language-ocaml linter ocaml-indent ocaml-merlin
</code></pre></div>    </div>

    <p>to install the relevant OCaml packages. Here are some handy Atom keymaps for common operations these extensions support – add this to your <code class="highlighter-rouge">.atom/keymap.cson</code> file:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>'atom-text-editor[data-grammar="source ocaml"]':
  'ctrl-shift-t': 'ocaml-merlin:show-type'
  'alt-shift-r': 'ocaml-merlin:rename-variable'
  'ctrl-shift-l': 'linter:lint'
  'ctrl-alt-f': 'ocaml-indent:file'
</code></pre></div>    </div>

    <p><code class="highlighter-rouge">linter:lint</code> will refresh the lint data based on the latest compiled version of your code. In addition, control-space should auto-complete.</p>
  </dd>
  <dt><strong>vim</strong></dt>
  <dd>If you use <code class="highlighter-rouge">vim</code>, my condolances.  It was my main editor 40 years ago and it now hopelessly out of date. Still, if you have been brainwashed to believe it is actually a decent editor, type shell command <code class="highlighter-rouge">opam user-setup install</code> after doing the above  default <code class="highlighter-rouge">opam</code> install to set up syntax highlighting, tab completion, displaying types, etc. See <a href="https://github.com/ocaml/merlin/blob/master/vim/merlin/doc/merlin.txt">here</a> for some dense documentation.</dd>
  <dt><strong>emacs</strong></dt>
  <dd>See vim.  Confession: I still use emacs.</dd>
</dl>

<h3 id="other-ocaml-resources">Other OCaml Resources</h3>

<ul>
  <li><a href="https://dev.realworldocaml.org/index.html">Real World OCaml</a> has recently been updated to a new edition and contains very nice tutorial descriptions of some of the newer features and also uses Jane Street’s Base extensively.</li>
</ul>
      
          </section>
        </div>
      </div>

				<div id="copyright">
					Web Design: <a href="http://templated.co">TEMPLATED</a> Images: <a href="http://unsplash.com">Unsplash</a> (<a href="http://unsplash.com/cc0">CC0</a>)
				</div>			


   </body>
</html>
